<!-- Timeline Screen -->
<!-- TODO: 8.18.18 - DONE (8.22.18) Create Moleskine-like timeline view -->
<!-- TODO: 8.23.18 - WIP - Space too small on 7 days screen to show all info. So add 1 tap to expand the day view. -->
<!-- TODO: 8.23.18 - Given the space constraints the narrow 7 day view can be toggled to show either Journal or Calendar items -->

<TimelineScreen
    outlet="timelineScreenNode"
    view.backgroundColor="">

    <macro name="navBarHeight" value="50" />
    <macro name="weeklySideBarWidth" value="40" />
    <macro name="weeklySideBarHeight" value="100% - parent.safeAreaInsets.top - parent.safeAreaInsets.bottom - topHeaderContainerHeight - borderLength * 7" />
    <macro name="todayContentBackgroundColor" value="white" />
    <macro name="dailyContentBackgroundColor" value="porcelainOpaque" />
    <macro name="emptyContentBackgroundColor" value="porcelainOpaque" />
    <macro name="dateTextColor" value="black" />
    <macro name="dailyContentTextColor" value="black" />
    <macro name="emptyContentTextColor" value="black" />
    <macro name="borderLength" value="8" />

    <UIImageView
        image="bk-1.jpg"
        width="100%"
        height="100%"
        contentMode="scaleAspectFit"
    />

    <!-- Week Top Bar -->
    <UIView
        width="40"
        height="topHeaderContainerHeight"
        top="parent.safeAreaInsets.top"
        left="0"
        backgroundColor="parent.backgroundColor">
        
        <!-- Week Label -->
        <UILabel
            text="WEEK"
            width="100%"
            height="auto"
            top="50% - height / 2 - 6"
            left="borderLength"
            textAlignment="center"
            textColor="dateTextColor"
            backgroundColor="parent.backgroundColor"
            font="Avenir Next 9"
        />
        <UILabel
            text="23"
            width="100%"
            height="auto"
            top="previous.bottom - 3"
            left="previous.left"
            textAlignment="center"
            textColor="dateTextColor"
            backgroundColor="parent.backgroundColor"
            font="Avenir Next bold 12"
        />
    </UIView>

    <!-- Week Long Scroll View -->
    <UIScrollView
        contentSize.width="100%"
        contentSize.height="150%"
        top="previous.bottom"
        left="0"
        backgroundColor="parent.backgroundColor"
        contentInsetAdjustmentBehavior="never"
        isPagingEnabled=""
        showsHorizontalScrollIndicator="">

        <!-- Weekly Side Bar -->
        <UIView
            width="weeklySideBarWidth"
            height="weeklySideBarHeight"
            top="0"
            left="borderLength"
            backgroundColor="">
            
            <UIView
                template="TimelineDayTemplate.xml"
                dayNumberText="11"
                dayText="WED"
                height="{isDayExpanded ? parent.height/2 : parent.height/7}"
                backgroundColor="todayContentBackgroundColor"
            />
            <UIView
                template="TimelineDayTemplate.xml"
                dayNumberText="12"
                dayText="THU"
                height="parent.height / 7"
                top="previous.bottom + borderLength"
            />
            <UIView
                template="TimelineDayTemplate.xml"
                dayNumberText="13"
                dayText="FRI"
                height="parent.height / 7"
                top="previous.bottom + borderLength"
            />
            <UIView
                template="TimelineDayTemplate.xml"
                dayNumberText="14"
                dayText="SAT"
                height="parent.height / 7"
                top="previous.bottom + borderLength"
            />
            <UIView
                template="TimelineDayTemplate.xml"
                dayNumberText="15"
                dayText="SUN"
                height="parent.height / 7"
                top="previous.bottom + borderLength"
            />
            <UIView
                template="TimelineDayTemplate.xml"
                dayNumberText="16"
                dayText="MON"
                height="parent.height / 7"
                top="previous.bottom + borderLength"
            />
            <UIView
                template="TimelineDayTemplate.xml"
                dayNumberText="17"
                dayText="TUE"
                height="parent.height / 7"
                top="previous.bottom + borderLength"
            />

        </UIView>

        <!-- Weekly Content View -->
        <UIView
            width="100% - weeklySideBarWidth - borderLength * 3"
            height="weeklySideBarHeight"
            top="previous.top"
            left="weeklySideBarWidth + borderLength * 2"
            backgroundColor="">
            
            <!-- Daily Content View -->
            <UIView
                width=""
                height="{isDayExpanded ? parent.height/2 : parent.height/7}"
                top="previous.bottom"
                backgroundColor="todayContentBackgroundColor">
                
                <!-- Timed Tasks -->
                <UIView
                    width="100%"
                    height="100%"
                    top="previous.bottom"
                    backgroundColor="">

                    <UIView
                        width="100%"
                        height="auto"
                        top="(parent.height - height)/2"
                        left="">
                    
                        <UILabel
                            text="12:03 PM"
                            width="15%"
                            height="auto"
                            top="0"
                            left="10"
                            textColor="dailyContentTextColor"
                            textAlignment="right"
                            font="Avenir Next 11"
                            backgroundColor=""
                        />
                        <UILabel
                            text="Lunch with team"
                            width="75%"
                            height="auto"
                            top="previous.top"
                            left="previous.right + 8"
                            textColor="dailyContentTextColor"
                            textAlignment="left"
                            font="Avenir Next 11"
                            backgroundColor=""
                        />
                        <UILabel
                            text="[0:48]"
                            width="10%"
                            height="auto"
                            top="previous.top"
                            right="10"
                            textColor="dailyContentTextColor"
                            textAlignment="center"
                            font="Avenir Next 11"
                            backgroundColor=""
                        />
                        <UILabel
                            text="1:12 PM"
                            width="15%"
                            height="auto"
                            top="previous.bottom"
                            left="10"
                            textColor="dailyContentTextColor"
                            textAlignment="right"
                            font="Avenir Next 11"
                        />
                        <UILabel
                        text="Marching band practice"
                            width="75%"
                            height="auto"
                            top="previous.top"
                            left="previous.right + 8"
                            textColor="dailyContentTextColor"
                            textAlignment="left"
                            font="Avenir Next 11"
                        />
                        <UILabel
                            text="[4:03]"
                            width="10%"
                            height="auto"
                            top="previous.top"
                            right="10"
                            textColor="dailyContentTextColor"
                            textAlignment="center"
                            font="Avenir Next 11"
                            backgroundColor=""
                        />
                    </UIView>
                    
                    <UIButton
                        title="hi"
                        touchUpInside="expandView"
                        width="100%"
                        height="100%"
                        top=""
                        left=""
                        backgroundColor=""
                    />
                    
                </UIView>
            </UIView>

            <UIView template="TimelineEmptyDayTemplate.xml" />

            <UIView template="TimelineEmptyDayTemplate.xml" />
                
            <UIView
                height="parent.height / 7"
                top="previous.bottom + borderLength"
                backgroundColor="dailyContentBackgroundColor">
                
                <!-- Inner Vertically Centered View -->
                <UIView
                    width="100%"
                    height="auto"
                    top="(parent.height - height)/2"
                    backgroundColor="">
                    
                    <UILabel
                        text="10:33 AM"
                        width="15%"
                        height="auto"
                        top=""
                        left="10"
                        textColor="dailyContentTextColor"
                        textAlignment="right"
                        font="Avenir Next 11"
                        backgroundColor=""
                    />
                    <UILabel
                        text="Meeting"
                        width="75%"
                        height="auto"
                        top="previous.top"
                        left="previous.right + 8"
                        textColor="dailyContentTextColor"
                        textAlignment="left"
                        font="Avenir Next 11"
                        backgroundColor=""
                    />
                    <UILabel
                        text="[0:31]"
                        width="15%"
                        height="auto"
                        top="previous.top"
                        right="10"
                        textColor="dailyContentTextColor"
                        textAlignment="center"
                        font="Avenir Next 11"
                        backgroundColor=""
                    />
                    <UILabel
                        text="2:17 PM"
                        width="15%"
                        height="auto"
                        top="previous.bottom"
                        left="10"
                        textColor="dailyContentTextColor"
                        textAlignment="right"
                        font="Avenir Next 11"
                    />
                    <UILabel
                        text="Math homework"
                        width="75%"
                        height="auto"
                        top="previous.top"
                        left="previous.right + 8"
                        textColor="dailyContentTextColor"
                        textAlignment="left"
                        font="Avenir Next 11"
                    />
                    <UILabel
                        text="[1:09]"
                        width="15%"
                        height="auto"
                        top="previous.top"
                        right="10"
                        textColor="dailyContentTextColor"
                        textAlignment="center"
                        font="Avenir Next 11"
                        backgroundColor=""
                    />
                </UIView>

            </UIView>

            <UIView template="TimelineEmptyDayTemplate.xml" />

            <UIView
                height="parent.height / 7"
                top="previous.bottom + borderLength"
                backgroundColor="dailyContentBackgroundColor">

                <!-- Inner Vertically Centered View -->
                <UIView
                    width="100%"
                    height="auto"
                    top="(parent.height - height)/2"
                    backgroundColor="">
                    
                    <UILabel
                        text="7:13 AM"
                        width="15%"
                        height="auto"
                        top=""
                        left="10"
                        textColor="dailyContentTextColor"
                        textAlignment="right"
                        font="Avenir Next 11"
                        backgroundColor=""
                    />
                    <UILabel
                        text="Run with daddy"
                        width="75%"
                        height="auto"
                        top="previous.top"
                        left="previous.right + 8"
                        textColor="dailyContentTextColor"
                        textAlignment="left"
                        font="Avenir Next 11"
                        backgroundColor=""
                    />
                    <UILabel
                        text="[0:17]"
                        width="15%"
                        height="auto"
                        top="previous.top"
                        right="10"
                        textColor="dailyContentTextColor"
                        textAlignment="center"
                        font="Avenir Next 11"
                        backgroundColor=""
                    />

                </UIView>

            </UIView>

            <UIView template="TimelineEmptyDayTemplate.xml" />


        </UIView>

    </UIScrollView>

</TimelineScreen>
